import { useEffect, useRef } from 'react';

const techIcons = [
  {
    name: 'Python',
    svg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#3776AB">
      <path d="M12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0zm-.5 4.8c.5-.2 1-.3 1.5-.3s1 .1 1.5.3c.5.2.9.4 1.2.7.3.3.5.7.7 1.2.2.5.3 1 .3 1.5v2.4H11V5.7c0-.5.1-1 .3-1.5.2-.5.4-.9.7-1.2.3-.3.7-.5 1.2-.7zm1 14.4c-.5.2-1 .3-1.5.3s-1-.1-1.5-.3c-.5-.2-.9-.4-1.2-.7-.3-.3-.5-.7-.7-1.2-.2-.5-.3-1-.3-1.5v-2.4h5.8v4.8c0 .5-.1 1-.3 1.5-.2.5-.4.9-.7 1.2-.3.3-.7.5-1.2.7z"/>
    </svg>`,
    size: 40
  },
  {
    name: 'React',
    svg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#61DAFB">
      <path d="M12 9.861a2.139 2.139 0 100 4.278 2.139 2.139 0 100-4.278zm-5.992 6.394l-.472-.12C2.018 15.246 0 13.737 0 11.996s2.018-3.25 5.536-4.139l.472-.119.134.468c.414 1.465.873 2.912 1.373 4.332l.128.366-.128.366c-.5 1.42-.959 2.867-1.373 4.332l-.134.468zM5.317 8.95c-2.674.751-4.315 1.9-4.315 3.046 0 1.145 1.641 2.294 4.315 3.046.354-1.12.732-2.228 1.137-3.327-.405-1.099-.783-2.207-1.137-3.327zm12.358 6.394l-.134-.468c-.414-1.465-.873-2.912-1.373-4.332l-.128-.366.128-.366c.5-1.42.959-2.867 1.373-4.332l.134-.468.472.12c3.518.889 5.536 2.398 5.536 4.139s-2.018 3.25-5.536 4.139l-.472.12zm-.488-4.661c.405 1.099.783 2.207 1.137 3.327 2.674-.751 4.315-1.9 4.315-3.046 0-1.145-1.641-2.294-4.315-3.046-.354 1.12-.732 2.228-1.137 3.327z"/>
    </svg>`,
    size: 45
  },
  {
    name: 'Docker',
    svg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#2496ED">
      <path d="M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185"/>
    </svg>`,
    size: 42
  },
  {
    name: 'Kubernetes',
    svg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#326CE5">
      <path d="M12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0zm0 2.25c5.385 0 9.75 4.365 9.75 9.75s-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12 6.615 2.25 12 2.25zm0 3.75c-3.309 0-6 2.691-6 6s2.691 6 6 6 6-2.691 6-6-2.691-6-6-6zm0 2.25c2.07 0 3.75 1.68 3.75 3.75S14.07 15.75 12 15.75 8.25 14.07 8.25 12 9.93 8.25 12 8.25z"/>
    </svg>`,
    size: 38
  },
  {
    name: 'PyTorch',
    svg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#EE4C2C">
      <path d="M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zM6.257 14.14a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5.488 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5.488 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z"/>
    </svg>`,
    size: 40
  },
  {
    name: 'TensorFlow',
    svg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FF6F00">
      <path d="M1.292 5.856L11.54 0v24l-4.095-2.378V7.603l-6.168 3.564.015-5.31zm21.43 5.311l-.014-5.31L12.46 0v24l4.095-2.378V14.87l3.092 1.788-.018-4.618-3.074-1.756V7.603l6.168 3.564z"/>
    </svg>`,
    size: 44
  },
  {
    name: 'Spring',
    svg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#6DB33F">
      <path d="M20.59 4.84a1.65 1.65 0 00-1.56 1.11 10 10 0 00-15.42 8.37 9.89 9.89 0 00.27 2.29A1.67 1.67 0 105.75 18.9a7.61 7.61 0 01-.21-1.81 7.83 7.83 0 0112.07-6.55 1.66 1.66 0 102.47-2.23 1.59 1.59 0 00-.49-3.47zm1.24 5.59a1.69 1.69 0 00-1.69 1.69 7.83 7.83 0 01-7.83 7.83 7.76 7.76 0 01-5.36-2.12 1.69 1.69 0 10-2.39 2.39 11.11 11.11 0 007.75 3.11A11.21 11.21 0 0023.52 12.12a1.69 1.69 0 00-1.69-1.69z"/>
    </svg>`,
    size: 42
  },
  // Add more tech icons...
];

const randomPosition = () => {
    const x = Math.random() * 100;
    const y = Math.random() * 100;
    return { x, y };
  };
  
  export default function FloatingTechIcons() {
    const containerRef = useRef<HTMLDivElement>(null);
  
    useEffect(() => {
      const icons = containerRef.current?.querySelectorAll('.tech-icon') || [];
      icons.forEach((icon) => {
        const pos = randomPosition();
        const element = icon as HTMLElement;
        element.style.left = `${pos.x}%`;
        element.style.top = `${pos.y}%`;
      });
    }, []);
  
    return (
      <div 
        ref={containerRef}
        className="fixed inset-0 pointer-events-none opacity-60 blur-xs z-[100]"
      >
        {techIcons.map((icon, index) => (
          <div
            key={icon.name}
            className="tech-icon absolute transform -translate-x-1/2 -translate-y-1/2"
            style={{
              animation: `techFloat ${8 + Math.random() * 4}s ease-in-out infinite ${Math.random() * 2}s`,
              width: icon.size,
              height: icon.size,
            }}
            dangerouslySetInnerHTML={{ __html: icon.svg }}
          />
        ))}
      </div>
    );
}